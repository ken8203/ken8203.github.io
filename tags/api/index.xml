<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>api on Hi im jaychung</title><link>https://blog.jaychung.tw/tags/api/</link><description>Recent content in api on Hi im jaychung</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sun, 05 Aug 2018 23:30:25 +0800</lastBuildDate><atom:link href="https://blog.jaychung.tw/tags/api/index.xml" rel="self" type="application/rss+xml"/><item><title>Load Complex Json Schema With Python</title><link>https://blog.jaychung.tw/posts/load-complex-json-schema-with-python/</link><pubDate>Sun, 05 Aug 2018 23:30:25 +0800</pubDate><guid>https://blog.jaychung.tw/posts/load-complex-json-schema-with-python/</guid><description>最近拿 JSON schema 來驗證自己的 API 回傳內容有沒有錯誤，在過程中遇到一點小障礙─無法讀取複雜的 JSON schema。
假設有支 API /v1/products/{product_id}，它的 schema 如下：
{ &amp;#34;$schema&amp;#34;: &amp;#34;http://json-schema.org/draft-04/schema#&amp;#34;, &amp;#34;title&amp;#34;: &amp;#34;Product resource&amp;#34;, &amp;#34;description&amp;#34;: &amp;#34;A product resource&amp;#34;, &amp;#34;type&amp;#34;: &amp;#34;object&amp;#34;, &amp;#34;additionalProperties&amp;#34;: false, &amp;#34;properties&amp;#34;: { &amp;#34;data&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;object&amp;#34;, &amp;#34;additionalProperties&amp;#34;: false, &amp;#34;properties&amp;#34;: { &amp;#34;product&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;object&amp;#34;, &amp;#34;additionalProperties&amp;#34;: false, &amp;#34;properties&amp;#34;: { &amp;#34;id&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;integer&amp;#34; }, &amp;#34;name&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;string&amp;#34; }, &amp;#34;price&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;integer&amp;#34; }, &amp;#34;created_at&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;integer&amp;#34; }, &amp;#34;updated_at&amp;#34;: { &amp;#34;type&amp;#34;: &amp;#34;integer&amp;#34; } }, &amp;#34;required&amp;#34;: [ &amp;#34;id&amp;#34;, &amp;#34;name&amp;#34;, &amp;#34;price&amp;#34;, &amp;#34;created_at&amp;#34;, &amp;#34;updated_at&amp;#34; ] } } } }, &amp;#34;required&amp;#34;: [ &amp;#34;data&amp;#34; ] } 這種簡單的 schema，直接用 json 讀取是沒問題的</description></item></channel></rss>